{"ast":null,"code":"const NOW_PLAYING_ENDPOINT = `https://api.spotify.com/v1/me/player/currently-playing`;\n// const TOKEN_ENDPOINT = `https://accounts.spotify.com/api/token`;\n\n// const refresh_token = \"AQCNTV33SgFKs6rtJ8hdEmy7n6ZUsyxVhEO_hKxNAAzasROY5akonwzacz1kgXTFYyqAEneAOiVWdFaWMuUPPZckTcEWqMGmJku81mMXn8fDOCW5CQBEPPgB21Lh18Tgy1M\";\n\nexport const getNowPlaying = async (client_id, client_secret, refresh_token) => {\n  const access_token = \"BQCMRwbW6tHqDEtfRBg_z8FQOsbL4koiVGrDpO8kUBB0BSjzrte46f4aTOUFI3xrk_tgCnvfsJ6seXi57lluIRENaz0uQxBkb_lThwce0HzMPLAEjsJisS24yB319DzJwDrO1FcBDz8fSycpR__agZZjb0XEA_YY5Ljdqru4kaWJka3w2AkE9Ftn9LoeIduM1ofiVMKs6EI\";\n  return fetch(NOW_PLAYING_ENDPOINT, {\n    headers: {\n      Authorization: `Bearer ${access_token}`\n    }\n  });\n};\nexport default async function getNowPlayingItem(client_id, client_secret, refresh_token) {\n  const response = await getNowPlaying(client_id, client_secret, refresh_token);\n  if (response.status === 204 || response.status > 400) {\n    return false;\n  }\n  const song = await response.json();\n  const albumImageUrl = song.item.album.images[0].url;\n  const artist = song.item.artists.map(_artist => _artist.name).join(\", \");\n  const isPlaying = song.is_playing;\n  const songUrl = song.item.external_urls.spotify;\n  const title = song.item.name;\n  return {\n    albumImageUrl,\n    artist,\n    isPlaying,\n    songUrl,\n    title\n  };\n}","map":{"version":3,"names":["NOW_PLAYING_ENDPOINT","getNowPlaying","client_id","client_secret","refresh_token","access_token","fetch","headers","Authorization","getNowPlayingItem","response","status","song","json","albumImageUrl","item","album","images","url","artist","artists","map","_artist","name","join","isPlaying","is_playing","songUrl","external_urls","spotify","title"],"sources":["C:/Users/opc/Desktop/spotify-currently-playing/src/spotify/SpotifyAPI.js"],"sourcesContent":["\r\n\r\nconst NOW_PLAYING_ENDPOINT = `https://api.spotify.com/v1/me/player/currently-playing`;\r\n// const TOKEN_ENDPOINT = `https://accounts.spotify.com/api/token`;\r\n\r\n// const refresh_token = \"AQCNTV33SgFKs6rtJ8hdEmy7n6ZUsyxVhEO_hKxNAAzasROY5akonwzacz1kgXTFYyqAEneAOiVWdFaWMuUPPZckTcEWqMGmJku81mMXn8fDOCW5CQBEPPgB21Lh18Tgy1M\";\r\n\r\n\r\n\r\nexport const getNowPlaying = async (client_id, client_secret, refresh_token) => {\r\n  const access_token = \"BQCMRwbW6tHqDEtfRBg_z8FQOsbL4koiVGrDpO8kUBB0BSjzrte46f4aTOUFI3xrk_tgCnvfsJ6seXi57lluIRENaz0uQxBkb_lThwce0HzMPLAEjsJisS24yB319DzJwDrO1FcBDz8fSycpR__agZZjb0XEA_YY5Ljdqru4kaWJka3w2AkE9Ftn9LoeIduM1ofiVMKs6EI\";\r\n\r\n  return fetch(NOW_PLAYING_ENDPOINT, {\r\n    headers: {\r\n      Authorization: `Bearer ${access_token}`,\r\n    },\r\n  });\r\n};\r\n\r\nexport default async function getNowPlayingItem(\r\n  client_id,\r\n  client_secret,\r\n  refresh_token\r\n) {\r\n  const response = await getNowPlaying(client_id, client_secret, refresh_token);\r\n  if (response.status === 204 || response.status > 400) {\r\n    return false;\r\n  }\r\n\r\n  const song = await response.json();\r\n  const albumImageUrl = song.item.album.images[0].url;\r\n  const artist = song.item.artists.map((_artist) => _artist.name).join(\", \");\r\n  const isPlaying = song.is_playing;\r\n  const songUrl = song.item.external_urls.spotify;\r\n  const title = song.item.name;\r\n\r\n  return {\r\n    albumImageUrl,\r\n    artist,\r\n    isPlaying,\r\n    songUrl,\r\n    title,\r\n  };\r\n}\r\n"],"mappings":"AAEA,MAAMA,oBAAoB,GAAI,wDAAuD;AACrF;;AAEA;;AAIA,OAAO,MAAMC,aAAa,GAAG,MAAAA,CAAOC,SAAS,EAAEC,aAAa,EAAEC,aAAa,KAAK;EAC9E,MAAMC,YAAY,GAAG,6MAA6M;EAElO,OAAOC,KAAK,CAACN,oBAAoB,EAAE;IACjCO,OAAO,EAAE;MACPC,aAAa,EAAG,UAASH,YAAa;IACxC;EACF,CAAC,CAAC;AACJ,CAAC;AAED,eAAe,eAAeI,iBAAiBA,CAC7CP,SAAS,EACTC,aAAa,EACbC,aAAa,EACb;EACA,MAAMM,QAAQ,GAAG,MAAMT,aAAa,CAACC,SAAS,EAAEC,aAAa,EAAEC,aAAa,CAAC;EAC7E,IAAIM,QAAQ,CAACC,MAAM,KAAK,GAAG,IAAID,QAAQ,CAACC,MAAM,GAAG,GAAG,EAAE;IACpD,OAAO,KAAK;EACd;EAEA,MAAMC,IAAI,GAAG,MAAMF,QAAQ,CAACG,IAAI,CAAC,CAAC;EAClC,MAAMC,aAAa,GAAGF,IAAI,CAACG,IAAI,CAACC,KAAK,CAACC,MAAM,CAAC,CAAC,CAAC,CAACC,GAAG;EACnD,MAAMC,MAAM,GAAGP,IAAI,CAACG,IAAI,CAACK,OAAO,CAACC,GAAG,CAAEC,OAAO,IAAKA,OAAO,CAACC,IAAI,CAAC,CAACC,IAAI,CAAC,IAAI,CAAC;EAC1E,MAAMC,SAAS,GAAGb,IAAI,CAACc,UAAU;EACjC,MAAMC,OAAO,GAAGf,IAAI,CAACG,IAAI,CAACa,aAAa,CAACC,OAAO;EAC/C,MAAMC,KAAK,GAAGlB,IAAI,CAACG,IAAI,CAACQ,IAAI;EAE5B,OAAO;IACLT,aAAa;IACbK,MAAM;IACNM,SAAS;IACTE,OAAO;IACPG;EACF,CAAC;AACH"},"metadata":{},"sourceType":"module","externalDependencies":[]}